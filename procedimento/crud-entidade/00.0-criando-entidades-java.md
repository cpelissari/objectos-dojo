

<pre><code>public interface Funcionario extends Insertable {

  interface Construtor extends br.com.objectos.comuns.base.Construtor&lt;Funcionario&gt; {
 
    String getNome();
    
    String getMatricula();
  
    LocalDate getDataDeNascimento();
  
    LocalDate getDataDeAdmissao();
      
    LocalDate getDataDeDemissao();
      
    Contrato getRegimeDeContratacao();
 
  }
  
    int getId();
    
    String getNome();
		        
    String getMatricula();
		    
    LocalDate getDataDeNascimento();
	    
    LocalDate getDataDeAdmissao();
    		        
    LocalDate getDataDeDemissao();
    		        
    Contrato getRegimeDeContratacao();
	  
}</code></pre>

<p>O que fizemos aqui foi definir os campos da entidade `Funcionario` e um Construtor que servirá para 
instanciar objetos (veremos isto mais adiante).</p>

<div class='alert'>
Importante: A interface `Construtor` não terá o método `getId()`, pois iremos considerar que o atributo `ID` será gerado automaticamente através do banco de dados como veremos mais adiante na implementação da 
classe `FuncionarioJdbc`.   

</div>
<p>Criaremos agora um enum <strong>Contrato</strong> (no mesmo pacote de Funcionario) que represente o 
campo &#8220;regime de contratação&#8221; considerando que nosso cliente requisitou este item para cada
funcionário.</p>

<pre><code>public enum Contrato {

  CLT,
  
  ESTAGIO

}</code></pre>

<p>Criaremos agora uma classe chamada <strong>FuncionarioJdbc</strong> (no mesmo pacote de Funcionario)
que irá implementar a interface `Funcionario`.</p>

<p>Primeiramente vamos criar um construtor para esta classe através do atalho `Alt + s + c`. </p>

<pre><code>public class FuncionarioJdbc implements Funcionario {

    public FuncionarioJdbc() {
     super();
    }
}</code></pre>

<p>Em seguida apagamos o método `super()` e passaremos a interface `Construtor` de `Funcionario` como
parâmetro para o construtor de `FuncionarioJdbc`</p>

<pre><code>public class FuncionarioJdbc implements Funcionario {

    public FuncionarioJdbc(Construtor construtor) {
	
    }
}</code></pre>
 
<p>Agora usaremos o parâmetro construtor para acessar os métodos da interface `Construtor` de `Funcionario`. 
Após isso usaremos o atalho `Ctrl + 2 + F` para criar variáveis para estes atributos dentro da classe 
`FuncionarioJdbc`</p>

<pre><code>public class FuncionarioJdbc implements Funcionario {

    private int id;

    public FuncionarioJdbc(Construtor construtor) {
      construtor.construtor.getNome();
    }
}</code></pre>

<p>Feito isso para todos os atributos devemos agora implementar os métodos da interface `Funcionario`
utilizando os atalhos `Ctrl + ponto` para selecionar o erro de compilação, em seguida `Ctrl + 1` e 
escolhemos a opção para implementar os métodos </p>

<pre><code>public class FuncionarioJdbc implements Funcionario {
	
    private int id;
	
    private final String nome;
    	
    private final String matricula;
    	
    private final LocalDate dataDeNascimento;
    	  
    private final LocalDate dataDeAdmissao;
    	  
    private final LocalDate dataDeDemissao;
    	  
    private final Contrato regimeDeContratacao;
    
    public FuncionarioJdbc(Construtor construtor) {
    nome = construtor.getNome();
    matricula = construtor.getMatricula();
    dataDeNascimento = construtor.getDataDeNascimento();
    dataDeAdmissao = construtor.getDataDeAdmissao();
    dataDeDemissao = construtor.getDataDeDemissao();
    regimeDeContratacao = construtor.getRegimeDeContratacao();
    }
  
    @Override
    public Insert getInsert() {
      return null;
    } 
	
    @Override
    public int getId() {
      return null;
    }
	
    @Override
    public String getNome() {
      return null;
    }
    	
    @Override
    public String getMatricula() {
      return null;
    }
    	
    @Override
    public LocalDate getDataDeNascimento() {
      return null;
    }
    	  
    @Override
    public LocalDate getDataDeAdmissao() {
      return null;
    }  
    	
    @Override
    public LocalDate getDataDeDemissao() {
      return null;
    }  
    	
    @Override
    public Contrato getRegimeDeContratacao() {
      return null;
    }
	
}</code></pre>

<p>Criaremos em seguida um método chamado `setId()` e definimos o retorno dos métodos sobrescritos</p>

<p>O método `getInsert()` será utilizado para inserir as informações no banco de dados, por isso nele
deverá constar o nome da tabela que estamos trabalhando e também os nomes das colunas utilizadas para
inserir cada atributo conforme abaixo: </p>

<pre><code>public class FuncionarioJdbc implements Funcionario {
    	
    private int id;
    	
    private final String nome;
    	
    private final String matricula;
    	
    private final LocalDate dataDeNascimento;
    	  
    private final LocalDate dataDeAdmissao;
    	  
    private final LocalDate dataDeDemissao;
    	  
    private final Contrato regimeDeContratacao;
    
    public FuncionarioJdbc(Construtor construtor) {
    nome = construtor.getNome();
    matricula = construtor.getMatricula();
    dataDeNascimento = construtor.getDataDeNascimento();
    dataDeAdmissao = construtor.getDataDeAdmissao();
    dataDeDemissao = construtor.getDataDeDemissao();
    regimeDeContratacao = construtor.getRegimeDeContratacao();
    }
  
    @Override
    public Insert getInsert() {
      return Insert.into(&quot;BANCO.TABELA&quot;)
       .value(&quot;NOME&quot;, nome)
       .value(&quot;DATA_NASCIMENTO&quot;, dataDeNascimento)
       .value(&quot;DATA_ADMISSAO&quot;, dataDeAdmissao)
       .value(&quot;REGIME_CONTRATO&quot;, regimeDeContratacao.getSqlValue())
      
       .onGeneratedKey(new GeneratedKeyCallback() {
        @Override
        public void set(ResultSet rs) throws SQLException {
          id = rs.next() ? rs.getInt(1) : 0;
        }
      });
    }
	
    @Override
    public int getId() {
      return id;
    }
	
    void setId(int id) {
      this.id = id;
    }
	
    @Override
    public String getNome() {
      return nome;
    }
	
    @Override
    public String getMatricula() {
      return matricula;
    }
	
    @Override
    public LocalDate getDataDeNascimento() {
      return dataDeNascimento;
    }
	  
    @Override
    public LocalDate getDataDeAdmissao() {
      return dataDeAdmissao;
    }  
	
    @Override
    public LocalDate getDataDeDemissao() {
      return dataDeDemissao;
    }  
	
    @Override
    public Contrato getRegimeDeContratacao() {
      return regimeDeContratacao;
    }
	
}</code></pre>

<p>Nota: TODAS as entidades DEVEM ter um método getter e um setter para o ID.</p>

<p></p>

<h2 id='cdigosfonte'>Códigos-fonte</h2>

<p><a href='https://github.com/objectos/objectos-dojo/tree/master/objectos-dojo-team/src/main/java/br/com/objectos/dojo/taguiar/Funcionario.java'>Funcionario.java</a><br /> <a href='https://github.com/objectos/objectos-dojo/tree/master/objectos-dojo-team/src/main/java/br/com/objectos/dojo/taguiar/FuncionarioJdbc.java'>FuncionarioJdbc.java</a><br /> <a href='https://github.com/objectos/objectos-dojo/tree/master/objectos-dojo-team/src/main/java/br/com/objectos/dojo/taguiar/Contrato.java'>Contrato.java</a><br /></p>

<p>Siga para o próximo passo. Objetos falsos! <a class='btn btn-success' href='/procedimento/crud-entidade/00.2-criando-objetos-falsos.html'>Continuar!</a><br /> Leia mais uma vez! <a class='btn btn-warning' href='#TOPO'>Revisar!</a></p>
    </div>
  </div>
</div>
    
    <div class="container">
    
      <hr />
      
    </div>

    <div id="ft">
  <div class="container">
    <div class="row">
      <div class="span4">
        &nbsp;
      </div>
      <div class="span4">
        &nbsp;
      </div>
      <div class="span4">
        <h2>objectos, Fábrica de Software LTDA</h2>
        <ul class="unstyled address">
           <li>R. Demóstenes, 627. cj 123</li>
           <li>04614-013 - Campo Belo</li>
           <li>São Paulo - SP - Brasil</li>
           <li>+55 11 5093-8640</li>
           <li>+55 11 2359-8699</li>
           <li><a href="mailto:contato@objectos.com.br">contato@objectos.com.br</a></li>
        </ul>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2012 objectos, Fábrica de Software LTDA</p>
      <p>Código, conteúdo e design desenvolvido pela <a href="http://www.objectos.com.br">objectos</a> para o mundo.</p>
      <p>
        Todo o código é distribuído através da licença <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache 2</a>.
      </p>
      <p>
        Todo os artigos são distribuídos pela licença <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">CC BY NC ND 3.0</a>
      </p>
    </div>
    <div class="credits">
      <ul class="unstyled">
        <li>Fontes por <a href="http://typekit.com">TypeKit</a></li>
        <li>Ícones por <a href="http://dryicons.com">DryIcons</a></li>
      </ul>
    </div>
  </div>
</div>
    
  </body>
</html>